<!-- Obiettivo: Simulare operazioni asincrone su array di oggetti (es. studenti o prodotti) 
usando Promise + async/await.
Traccia:
1. Parti da un array di oggetti con nome e voti
2. Crea una funzione ritarda(ms) come prima
3. Crea una funzione async che:
    * per ogni studente aspetta 1 secondo
    * calcola la media dei voti
    * stampa "Lo studente X ha media Y
*/ -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const studenti = [
            {
                nome: "Giulia",
                voti: [8, 9, 10]
            },
            {
                nome: "Marco",
                voti: [6, 7, 7]
            },
            {
                nome: "Sara",
                voti: [10, 9, 9]
            },
            {
                nome: "Luca",
                voti: [5, 6, 7]
            }
        ];

        function ritarda(ms){
            return new Promise((resolve) => {
                setTimeout(()=>{
                    resolve()
                }, ms)
            })
        }

        async function mostraMedia(){
            for(let studente of studenti){
                await ritarda(1000);
                let somma = studenti.voti.reduce((acc, voto) => acc + voto, 0);
                let media = somma / studente.voti.length;
                console.log(`Lo studente ${studente.nome} ha media ${media}`)
                }
            }
        mostraMedie();
    </script>
</body>
</html>

