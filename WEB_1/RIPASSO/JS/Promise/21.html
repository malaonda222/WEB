<!-- Tema: Fetch API + async/await + filtri su array
Obiettivo: Recuperare dati da un’API esterna e filtrare i risultati.
Nome dell’esercizio: prendiTodoCompletati(userId)
Traccia:
1. Scrivi una funzione asincrona prendiTodoCompletati(userId).
2. Usa fetch per recuperare i dati da:
https://jsonplaceholder.typicode.com/todos
3. Con await, ottieni e trasforma la risposta in JSON.
4. Filtra i TODOs in base a due condizioni:
    * devono appartenere all’utente con userId uguale al parametro passato,
    * devono avere completed: true.
5. La funzione deve restituire l’array filtrato.
6. Stampa in console i titoli (title) dei TODOs completati dall’utente.
Suggerimento: Puoi usare filter per selezionare i TODO e forEach per stamparne i titoli.
*/ -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        async function prendiTodoCompletati(userId){
            try{
                let response = await fetch('https://jsonplaceholder.typicode.com/todos');
                let todos = await response.json();
                let filtrati = todos.filter((todo) => todo.userId === userId && todo.completed === true);
                console.log("Array filtrato: ", filtrati);
                filtrati.forEach((todo) => {
                    console.log(todo.title)
                });
                return filtrati;
            }catch(e){
                console.log("Errore: ", e)
            }};
        prendiTodoCompletati(3)
    </script>
</body>
</html>